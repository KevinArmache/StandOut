{"ast":null,"code":"import _regeneratorRuntime from \"/home/onizuka/Bureau/Projects/StandOut/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/onizuka/Bureau/Projects/StandOut/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/onizuka/Bureau/Projects/StandOut/components/partials/shop/modules/ModuleShopItemsListView.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport ProductRepository from '~/repositories/ProductRepository';\nimport CollectionRepository from '~/repositories/CollectionRepository';\nimport ProductHorizontal from '~/components/elements/products/ProductHorizontal';\n\nvar ModuleShopItemsListView = function ModuleShopItemsListView(_ref) {\n  _s();\n\n  var collectionSlug = _ref.collectionSlug,\n      _ref$pageSize = _ref.pageSize,\n      pageSize = _ref$pageSize === void 0 ? 12 : _ref$pageSize;\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      productItems = _useState2[0],\n      setProductItems = _useState2[1];\n\n  function getProduct() {\n    return _getProduct.apply(this, arguments);\n  }\n\n  function _getProduct() {\n    _getProduct = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var queries, SPProducts;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(collectionSlug !== undefined)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return CollectionRepository.getProductsByCollectionSlug(collectionSlug);\n\n            case 3:\n              SPProducts = _context.sent;\n              _context.next = 10;\n              break;\n\n            case 6:\n              queries = {\n                _limit: pageSize\n              };\n              _context.next = 9;\n              return ProductRepository.getProducts(queries);\n\n            case 9:\n              SPProducts = _context.sent;\n\n            case 10:\n              if (!SPProducts) {\n                _context.next = 16;\n                break;\n              }\n\n              setTimeout(function () {\n                setLoading(false);\n              }, 200);\n\n              if (SPProducts.items.length > 0) {\n                setProductItems(SPProducts.items);\n              }\n\n              return _context.abrupt(\"return\", SPProducts);\n\n            case 16:\n              setProductItems(null);\n              return _context.abrupt(\"return\", null);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getProduct.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    getProduct();\n  }, [collectionSlug]); // Views\n\n  var productItemsView;\n\n  if (!loading && productItems) {\n    if (productItems.length > 0) {\n      productItemsView = productItems.map(function (item) {\n        return /*#__PURE__*/_jsxDEV(ProductHorizontal, {\n          product: item\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 24\n        }, _this);\n      });\n    } else {\n      productItemsView = /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No product(s) found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 32\n      }, _this);\n    }\n  } else {\n    productItemsView = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 28\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ps-shop-items\",\n    children: productItemsView\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 12\n  }, _this);\n};\n\n_s(ModuleShopItemsListView, \"wLqg5ezoh41uGbEQn28HHGlBU7E=\");\n\n_c = ModuleShopItemsListView;\nexport default ModuleShopItemsListView;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModuleShopItemsListView\");","map":{"version":3,"sources":["/home/onizuka/Bureau/Projects/StandOut/components/partials/shop/modules/ModuleShopItemsListView.jsx"],"names":["React","useEffect","useState","ProductRepository","CollectionRepository","ProductHorizontal","ModuleShopItemsListView","collectionSlug","pageSize","loading","setLoading","productItems","setProductItems","getProduct","undefined","getProductsByCollectionSlug","SPProducts","queries","_limit","getProducts","setTimeout","items","length","productItemsView","map","item","id"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,oBAAP,MAAiC,qCAAjC;AACA,OAAOC,iBAAP,MAA8B,kDAA9B;;AAEA,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,OAAuC;AAAA;;AAAA,MAApCC,cAAoC,QAApCA,cAAoC;AAAA,2BAApBC,QAAoB;AAAA,MAApBA,QAAoB,8BAAT,EAAS;;AAAA,kBACrCN,QAAQ,CAAC,IAAD,CAD6B;AAAA,MAC5DO,OAD4D;AAAA,MACnDC,UADmD;;AAAA,mBAE3BR,QAAQ,CAAC,IAAD,CAFmB;AAAA,MAE5DS,YAF4D;AAAA,MAE9CC,eAF8C;;AAAA,WAIpDC,UAJoD;AAAA;AAAA;;AAAA;AAAA,2EAInE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEQN,cAAc,KAAKO,SAF3B;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAG2BV,oBAAoB,CAACW,2BAArB,CACfR,cADe,CAH3B;;AAAA;AAGQS,cAAAA,UAHR;AAAA;AAAA;;AAAA;AAOQC,cAAAA,OAAO,GAAG;AACNC,gBAAAA,MAAM,EAAEV;AADF,eAAV;AAPR;AAAA,qBAU2BL,iBAAiB,CAACgB,WAAlB,CAA8BF,OAA9B,CAV3B;;AAAA;AAUQD,cAAAA,UAVR;;AAAA;AAAA,mBAaQA,UAbR;AAAA;AAAA;AAAA;;AAcQI,cAAAA,UAAU,CAAC,YAAY;AACnBV,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACH,eAFS,EAEP,GAFO,CAAV;;AAGA,kBAAIM,UAAU,CAACK,KAAX,CAAiBC,MAAjB,GAA0B,CAA9B,EAAiC;AAC7BV,gBAAAA,eAAe,CAACI,UAAU,CAACK,KAAZ,CAAf;AACH;;AAnBT,+CAoBeL,UApBf;;AAAA;AAsBQJ,cAAAA,eAAe,CAAC,IAAD,CAAf;AAtBR,+CAuBe,IAvBf;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAJmE;AAAA;AAAA;;AA+BnEX,EAAAA,SAAS,CAAC,YAAM;AACZY,IAAAA,UAAU;AACb,GAFQ,EAEN,CAACN,cAAD,CAFM,CAAT,CA/BmE,CAmCnE;;AACA,MAAIgB,gBAAJ;;AAEA,MAAI,CAACd,OAAD,IAAYE,YAAhB,EAA8B;AAC1B,QAAIA,YAAY,CAACW,MAAb,GAAsB,CAA1B,EAA6B;AACzBC,MAAAA,gBAAgB,GAAGZ,YAAY,CAACa,GAAb,CAAiB,UAACC,IAAD,EAAU;AAC1C,4BAAO,QAAC,iBAAD;AAAmB,UAAA,OAAO,EAAEA;AAA5B,WAAuCA,IAAI,CAACC,EAA5C;AAAA;AAAA;AAAA;AAAA,iBAAP;AACH,OAFkB,CAAnB;AAGH,KAJD,MAIO;AACHH,MAAAA,gBAAgB,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAnB;AACH;AACJ,GARD,MAQO;AACHA,IAAAA,gBAAgB,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAnB;AACH;;AAED,sBAAO;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA,cAAgCA;AAAhC;AAAA;AAAA;AAAA;AAAA,WAAP;AACH,CAnDD;;GAAMjB,uB;;KAAAA,uB;AAqDN,eAAeA,uBAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ProductRepository from '~/repositories/ProductRepository';\nimport CollectionRepository from '~/repositories/CollectionRepository';\nimport ProductHorizontal from '~/components/elements/products/ProductHorizontal';\n\nconst ModuleShopItemsListView = ({ collectionSlug, pageSize = 12 }) => {\n    const [loading, setLoading] = useState(true);\n    const [productItems, setProductItems] = useState(null);\n\n    async function getProduct() {\n        let queries, SPProducts;\n        if (collectionSlug !== undefined) {\n            SPProducts = await CollectionRepository.getProductsByCollectionSlug(\n                collectionSlug\n            );\n        } else {\n            queries = {\n                _limit: pageSize,\n            };\n            SPProducts = await ProductRepository.getProducts(queries);\n        }\n\n        if (SPProducts) {\n            setTimeout(function () {\n                setLoading(false);\n            }, 200);\n            if (SPProducts.items.length > 0) {\n                setProductItems(SPProducts.items);\n            }\n            return SPProducts;\n        } else {\n            setProductItems(null);\n            return null;\n        }\n    }\n\n    useEffect(() => {\n        getProduct();\n    }, [collectionSlug]);\n\n    // Views\n    let productItemsView;\n\n    if (!loading && productItems) {\n        if (productItems.length > 0) {\n            productItemsView = productItems.map((item) => {\n                return <ProductHorizontal product={item} key={item.id} />;\n            });\n        } else {\n            productItemsView = <p>No product(s) found.</p>;\n        }\n    } else {\n        productItemsView = <p>Loading...</p>;\n    }\n\n    return <div className=\"ps-shop-items\">{productItemsView}</div>;\n};\n\nexport default ModuleShopItemsListView;\n"]},"metadata":{},"sourceType":"module"}